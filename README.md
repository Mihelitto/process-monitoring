# Скрипт мониторинга запущенного процесса 

Скрипт запускает в отдельном процессе указанное приложение.
После чего записывает в файл, с заданным интервалом, статистику по этому приложению 
(потребление памяти, использование процессора, открытые хэндлеры).

## Запуск

- Клонируйте репозиторий
- Установите зависимости командой `pip install -r requirements.txt`
- Запустите скрипт указав первым параметром путь до приложения `python main.py program.exe`
- Если приложению нужны свои параметры укажите их после пути, взяв всё в кавычки `python main.py "C:\Program.exe -v --some-other"`

## Параметры командной строки

- Для вызова справки `-h`, `--help`
- Для указания интервала сбора статистики `-i`, `--interval`
```
python main.py program.exe -i 1.5
```
Время задаётся в секундах, по умолчанию 1.
- Для указания пути к файлу логов `-l`, `-log`
```
python main.py program.exe -l some_log_file.csv
```
Внимание! Файл будет перезаписан. По умолчанию `log.csv`

## Выходные данные

Данные сохраняются в файл в формате csv. В первой строке указываются названия параметров.

- `Date and time` - системное время
- `CPU load` - загрузка ЦПУ в процентах
- `Working set memory` - количество физически используемой памяти в байтах
- `Private memory` - собственная память процесса в байтах
- `Open handles` - количество открытых хэндлеров

Пример выходных данных

Date and time | CPU load | Working set memory | Private memory | Open handles
--- | --- | --- | --- | ---
2021-11-14 18:31:33.934349 | 0.0 | 1568768 | 495616 | 1
2021-11-14 18:31:35.074733 | 20.6 | 15261696 | 3325952 | 3
